#include <stdio.h>
#include <windows.h>

unsigned long int Endian_Int_Conversion(unsigned long int dword)
{
   return ((dword>>24)&0x000000FF) | ((dword>>8)&0x0000FF00) | ((dword<<8)&0x00FF0000) | ((dword<<24)&0xFF000000);
}

BYTE buffer[10485760];

main()
{
      FILE *rsb,*jrsb,*ext;
      unsigned long int pointers[142]={0xA687C,0xA688C,0xA689C,0xA68AC,0xA68EC,0xB8CAC,0xB8CBC,0x1201EC,0x16649C,0x1664AC,0x1664BC,0x1664CC,0x1664DC,0x1664EC,0x1664FC,0x16650C,0xB0CA8C,0xB0CA9C,0xB0CAAC,0xB0CABC,0xB0CACC,0xB0CADC,0xB0CAEC,0xB0CAFC,0xB0CB0C,0xB0CB1C,0xB0CB2C,0xB0CB3C,0xB0CB4C,0xB0CB5C,0xB0CB6C,0xB0CB7C,0xB0CB8C,0xB0CB9C,0xB0CBAC,0xB0CBBC,0xB0CBCC,0xB0CBDC,0xB0CBEC,0xB0CBFC,0xB0CC0C,0xB0CC1C,0xB0CC2C,0xB0CC3C,0xB0CC4C,0xB0CC5C,0xB0CC6C,0xB0CC7C,0xB0CC8C,0xB0CC9C,0xB0CCAC,0xB0CCBC,0xB0CCCC,0xB0CCDC,0xB0CCEC,0xB0CCFC,0xB0CD0C,0xB0CD1C,0xB0CD2C,0xB0CD3C,0xB0CD4C,0xB0CD5C,0xB0CD6C,0xB0CD7C,0xB0CD8C,0xB0CD9C,0xB0CDAC,0xB0CDBC,0xB0CDCC,0xB0CDDC,0xB0CDEC,0xB0CDFC,0xB0CE0C,0xB0CE1C,0xB0CE2C,0xB0CE3C,0xB0CE4C,0xB0CE5C,0xB0CE6C,0xB0CE7C,0xB0CE8C,0xB0CE9C,0xB0CEAC,0xB0CEBC,0xB0CECC,0xB0CEDC,0xB0CEEC,0xB0CEFC,0xB0CF0C,0xB0CF1C,0xB0CF2C,0xB0CF3C,0xB0CF4C,0xB0CF5C,0xB0CF6C,0xB0CF7C,0xB0CF8C,0xB0CF9C,0xB0CFAC,0xB0CFBC,0xB0CFCC,0xB0CFDC,0xB0CFEC,0xB0CFFC,0xB0D00C,0xB0D01C,0xB0D02C,0xB0D03C,0xB0D04C,0xB0D05C,0xB0D06C,0xB0D07C,0xB0D08C,0xB0D09C,0xB0D0AC,0xB0D0BC,0xB0D0CC,0xB0D0DC,0xB0D0EC,0xB0D0FC,0xB0D10C,0xB0D11C,0xB0D12C,0xB0D13C,0xB0D14C,0xB0D15C,0xB0D16C,0xB0D17C,0xB0D18C,0xB0D19C,0xB0D1AC,0xB0D1BC,0xB0D1CC,0xB0D1DC,0xB0D1EC,0xB0D1FC,0xB0D20C,0xB0D21C,0xB0D22C,0xB0D23C,0xB0D24C,0xB0D25C};
      unsigned long int i, point[142],size[142],n0=0,n1=0,n2=1;
      unsigned char stringa [5];
      
      rsb=fopen("coolres.rsb","r+b");
      jrsb=fopen("coolres0.rsb","w+b");
      chdir("coolres0");
      for (i=0;i<142;i++)
      {
          sprintf(stringa, "%d%d%d.dat\0",n0,n1,n2);
          ext=fopen(stringa,"r+b");
          n2++;
          if (n2==10)
                         {
                         n2=0;
                         n1=n1+1;
                          }
                          if (n1==10)
                         {
                         n1=0;
                         n0=n0+1;
                          }
          point[i]=ftell(jrsb);
          fseek(ext,0x00,SEEK_END);
          size[i]=ftell(ext);
          rewind(ext);
          fread(buffer,size[i],1,ext);
          fwrite(buffer,size[i],1,jrsb);
          while ((ftell(jrsb) % 0x10) != 0)
          {
                fputc(0x00,jrsb);
                }
          fseek(rsb,pointers[i],SEEK_SET);
          size[i]=size[i]+0xC0000000;
          size[i]=Endian_Int_Conversion(size[i]);
          point[i]=Endian_Int_Conversion(point[i]);
          
          printf("0x%x     0x%x\n",point[i],size[i]);
          fwrite(&point[i],4,1,rsb);
          fwrite(&size[i],4,1,rsb);
          }
          
}               
